@page "/conversion"
@inherits ComponentBase

<h1>Convertisseur de devises</h1>

<div>
    <label>Montant :</label>
    <input type="number" @bind="amount" />
</div>

<div>
    <label>De :</label>
    <select @bind="fromCurrency">
        @foreach (var currency in FilteredCurrencies())
        {
            <option value="@currency">@currency</option>
        }
    </select>

    <label>À :</label>
    <select @bind="toCurrency">
        @foreach (var currency in FilteredCurrencies())
        {
            <option value="@currency">@currency</option>
        }
    </select>
</div>

<button @onclick="Convert">Convertir</button>
<button @onclick="ToggleView">
    @(showFavoritesOnly ? "Afficher toutes les devises" : "Afficher uniquement les devises favorites")
</button>

@if (conversionResult != null)
{
    <div class="result-box animate">
        @($"{amount} {fromCurrency} = {conversionResult:F2} {toCurrency}")
    </div>
}